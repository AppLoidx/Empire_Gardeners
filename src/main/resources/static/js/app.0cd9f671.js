(function(t){function e(e){for(var i,r,s=e[0],l=e[1],c=e[2],d=0,p=[];d<s.length;d++)r=s[d],Object.prototype.hasOwnProperty.call(n,r)&&n[r]&&p.push(n[r][0]),n[r]=0;for(i in l)Object.prototype.hasOwnProperty.call(l,i)&&(t[i]=l[i]);u&&u(e);while(p.length)p.shift()();return a.push.apply(a,c||[]),o()}function o(){for(var t,e=0;e<a.length;e++){for(var o=a[e],i=!0,s=1;s<o.length;s++){var l=o[s];0!==n[l]&&(i=!1)}i&&(a.splice(e--,1),t=r(r.s=o[0]))}return t}var i={},n={app:0},a=[];function r(e){if(i[e])return i[e].exports;var o=i[e]={i:e,l:!1,exports:{}};return t[e].call(o.exports,o,o.exports,r),o.l=!0,o.exports}r.m=t,r.c=i,r.d=function(t,e,o){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(r.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)r.d(o,i,function(e){return t[e]}.bind(null,i));return o},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],l=s.push.bind(s);s.push=e,s=s.slice();for(var c=0;c<s.length;c++)e(s[c]);var u=l;a.push([0,"chunk-vendors"]),o()})({0:function(t,e,o){t.exports=o("56d7")},"015e":function(t,e,o){"use strict";var i=o("eca8"),n=o.n(i);n.a},"034f":function(t,e,o){"use strict";var i=o("85ec"),n=o.n(i);n.a},"372a":function(t,e,o){},"3a73":function(t,e,o){},4990:function(t,e,o){"use strict";var i=o("372a"),n=o.n(i);n.a},"56d7":function(t,e,o){"use strict";o.r(e);o("e260"),o("e6cf"),o("cca6"),o("a79d");var i=o("2b0e"),n=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{attrs:{id:"app"}},[o("Header",t._b({},"Header",t.headerParams,!1)),o("div",{attrs:{id:"logregApp"}},[o("router-view")],1)],1)},a=[],r=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{attrs:{id:"header"}},[o("h1",[t._v(t._s(t.title))]),o("div",{attrs:{title:"выполнила",id:"credit"}},[t._v(" Выполнила: "+t._s(t.authorName)+" ")])])},s=[],l={name:"Header",props:{title:String,authorName:String}},c=l,u=(o("4990"),o("2877")),d=Object(u["a"])(c,r,s,!1,null,"5fa54e6d",null),p=d.exports,v={name:"app",components:{Header:p},data:function(){return{headerParams:{title:"Лабораторная работа №4, Вариант 131611",authorName:"Можанова Таисия Евгеньевна P3212"},footerParams:{devYear:new Date}}}},f=v,h=(o("034f"),Object(u["a"])(f,n,a,!1,null,null,null)),m=h.exports,g=o("8c4f"),b=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{attrs:{id:"logRegField"}},[o("input",{attrs:{checked:"",id:"signin",name:"action",type:"radio",value:"signin"},on:{click:function(e){return t.makeActive("login")}}}),o("label",{attrs:{for:"signin"}},[t._v("Вход в сад")]),o("input",{attrs:{id:"signup",name:"action",type:"radio",value:"signup"},on:{click:function(e){return t.makeActive("registration")}}}),o("label",{attrs:{for:"signup"}},[t._v("Вы новый садовод?")]),o("login-and-registration-form",{attrs:{"form-name":t.active}})],1)},w=[],y=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"formma"},[o("div",{attrs:{id:"wrapper"}},[o("table",[o("tr",[o("td",[t._v("Имя: ")]),o("td",[o("input",{directives:[{name:"model",rawName:"v-model",value:t.login,expression:"login"}],staticClass:"textarea",attrs:{id:"login",name:"login",placeholder:" username",type:"text"},domProps:{value:t.login},on:{click:t.clearMessage,input:function(e){e.target.composing||(t.login=e.target.value)}}})])]),o("tr",[o("td",[t._v("Пароль: ")]),o("td",[o("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"textarea",attrs:{id:"password",name:"password",placeholder:" password",type:"password"},domProps:{value:t.password},on:{click:t.clearMessage,input:function(e){e.target.composing||(t.password=e.target.value)}}})])]),"registration"===t.formName?o("tr",[o("td",[t._v("Повторите пароль: ")]),o("td",[o("input",{directives:[{name:"model",rawName:"v-model",value:t.confirmPassword,expression:"confirmPassword"}],staticClass:"textarea",attrs:{id:"password2",name:"password2",placeholder:" password",type:"password"},domProps:{value:t.confirmPassword},on:{click:t.clearMessage,input:function(e){e.target.composing||(t.confirmPassword=e.target.value)}}})])]):t._e()]),o("div",{attrs:{id:"arrow"}})]),"login"===t.formName?o("div",[o("button",{attrs:{id:"LogButton",type:"submit"},on:{click:function(e){return t.validateForm("login")}}},[t._v("Вход")]),t.isL?o("p",{staticStyle:{color:"#000080"},attrs:{id:"l"}},[t._v(t._s(t.lError))]):t._e()]):o("div",[o("button",{attrs:{id:"RegButton",type:"submit"},on:{click:function(e){return t.validateForm("reg")}}},[t._v("Зарегистрироваться")]),t.isR?o("p",{staticStyle:{color:"#000080"},attrs:{id:"r"}},[t._v(t._s(this.rError))]):t._e()]),o("p",{staticStyle:{color:"red"},attrs:{hidden:t.isErrorMessageHidden,id:"erMes"}},[t._v(t._s(this.errorMessage))])])},x=[],_=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("table",[t._m(0),t._l(t.points,(function(e){return o("tr",{key:e.x},[o("td",[t._v(t._s(e.x))]),o("td",[t._v(t._s(e.y))]),o("td",[t._v(t._s(e.r))]),o("td",[t._v(t._s(e.result))]),o("td",[t._v(t._s(e.requestDate))])])}))],2)},T=[function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("tr",[o("th",[t._v("X")]),o("th",[t._v("Y")]),o("th",[t._v("R")]),o("th",[t._v("Результат")]),o("th",[t._v("Дата")])])}],P={name:"Table",props:["points"],mounted:function(){}},k=P,S=(o("73be"),Object(u["a"])(k,_,T,!1,null,"b6ff3048",null)),M=S.exports,E={name:"loginAndRegistrationForm",components:{Table:M},props:{formName:String},data:function(){return{password:"",login:"",confirmPassword:"",isErrorMessageHidden:!0,lError:"доступ запрещен",rError:"имя занято",isR:!1,isL:!1,statusss:"",errorMessage:""}},watch:{formName:function(){this.password="",this.login="",this.confirmPassword=""}},methods:{clearMessage:function(){this.isErrorMessageHidden=!0},registF:function(){var t=this;this.$axios.post("/api/v1/user/register",{login:this.login,password:this.password}).then((function(e){200===e.status&&(sessionStorage.setItem("jwt",e.data),t.$router.push({path:"/home"}))})).catch((function(){t.isL=!1,t.isR=!0}))},loginF:function(){var t=this;this.$axios.post("/api/v1/user/login",{login:this.login,password:this.password}).then((function(e){t.statusss=e.status,200===e.status&&(sessionStorage.setItem("jwt",e.data),t.$router.push({path:"/home"}))})).catch((function(){403===t.status&&(t.lError="hellllllooo"),t.isR=!1,t.isL=!0}))},validateForm:function(t){/^[a-z][a-z\d]*$/i.test(this.login)?/^[a-z\d]*$/i.test(this.password)?"registration"===this.formName&&this.password!==this.confirmPassword?(this.isErrorMessageHidden=!1,this.errorMessage="Пароли не совпадают"):(this.isErrorMessageHidden=!0,"login"===t?this.loginF():this.registF()):(this.isErrorMessageHidden=!1,this.errorMessage="Пароль может состоять из латинских букв и цифр"):(this.isErrorMessageHidden=!1,this.errorMessage="Логин может состоять из латинских букв и цифр, но не может начинаться с цифры")}}},C=E,j=(o("015e"),Object(u["a"])(C,y,x,!1,null,"2a88dcf3",null)),R=j.exports,$={name:"LogRegField",components:{LoginAndRegistrationForm:R},data:function(){return{active:"login",color:"#5e5b64"}},methods:{makeActive:function(t){this.active=t,console.log(this.active)}}},N=$,O=(o("e993"),Object(u["a"])(N,b,w,!1,null,"f6f12b82",null)),F=O.exports,B=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"HomePage"},[o("div",[o("div",{staticStyle:{float:"left","padding-left":"10%","padding-top":"5%"}},[o("form",{attrs:{name:"form"}},[o("p",{staticClass:"line",staticStyle:{"font-size":"130%","font-style":"italic",margin:"40px 0px 40px 120px"},attrs:{span:""}},[t._v("Введите координаты цветочка")]),o("p",{staticClass:"line"},[o("label",{attrs:{for:"valueY"}},[t._v("X: ")]),o("input",{directives:[{name:"model",rawName:"v-model",value:t.point.x,expression:"point.x"}],staticClass:"textarea",attrs:{id:"valueX",name:"valueX",type:"text",value:"",placeholder:"-5 ... 5",required:""},domProps:{value:t.point.x},on:{input:[function(e){e.target.composing||t.$set(t.point,"x",e.target.value)},function(e){t.point.x=t.validate(t.point.x,-5,5)}]}})]),o("p",{staticClass:"line"},[o("label",{attrs:{for:"valueY"}},[t._v("Y: ")]),o("input",{directives:[{name:"model",rawName:"v-model",value:t.point.y,expression:"point.y"}],staticClass:"textarea",attrs:{id:"valueY",name:"valueY",type:"text",value:"",placeholder:"-3 ... 3",required:""},domProps:{value:t.point.y},on:{input:[function(e){e.target.composing||t.$set(t.point,"y",e.target.value)},function(e){t.point.y=t.validate(t.point.y,-3,3)}]}})]),o("p",{staticClass:"line"},[o("label",{attrs:{for:"valueY"}},[t._v("R: ")]),o("input",{directives:[{name:"model",rawName:"v-model",value:t.point.r,expression:"point.r"}],staticClass:"textarea",attrs:{id:"valueR",name:"valueR",type:"text",value:"",placeholder:"0 ... 5",required:""},domProps:{value:t.point.r},on:{input:[function(e){e.target.composing||t.$set(t.point,"r",e.target.value)},function(e){t.point.r=t.validate(t.point.r,0,5)}],change:t.redrawGraph}})])]),o("p",{staticClass:"line"},[o("button",{staticClass:"send-button",attrs:{type:"submit",id:"submitButton1"},on:{click:t.exit}},[t._v(" Выйти ")]),o("button",{staticClass:"send-button",attrs:{type:"submit",id:"submitButton"},on:{click:t.validateData}},[t._v("Вырастить новый")])]),o("h2",{staticStyle:{color:"red"}},[t._v(t._s(t.errorMessage))])]),o("canvas",{attrs:{height:"500",width:"500",id:"zoneCanvas"},on:{click:t.validateFromGraph}})]),o("div",{staticStyle:{"padding-top":"40%",width:"60%",margin:"auto"}},[o("Table",{attrs:{points:t.points}})],1)])},I=[],H=(o("cb29"),o("4160"),o("fb6a"),o("ac1f"),o("5319"),o("159b"),{name:"HomePage",components:{Table:M},data:function(){return{point:{requestDate:null,result:null,x:"",y:"",r:null},points:[],errorMessage:""}},mounted:function(){this.drawZone("zoneCanvas",this.point.r),this.loadPoints(),this.drawPoints()},methods:{exit:function(){sessionStorage.removeItem("jwt"),this.$router.push("/logReg")},validateData:function(){""===this.point.y?this.errorMessage="поле y не заполнено":"-"===this.point.y?this.errorMessage="не правильное заполнение поля y":this.updatePoints()},updatePoints:function(){var t=this;this.$axios.post("/api/v1/points/add",{x:this.point.x,y:this.point.y,r:this.point.r},{headers:{Authorization:"Basic"+localStorage.getItem("jwt")}}).then((function(e){t.points=e.data,t.redrawGraph()}))},loadPoints:function(){var t=this;this.$axios.get("/api/v1/paoints/get",{headers:{Authorization:"Basic"+localStorage.getItem("jwt")}}).then((function(e){t.points=e.data,t.redrawGraph()}))},drawPoints:function(){var t=this;this.points.forEach((function(e){t.drawPoint(e)}))},redrawGraph:function(){console.log("redrawGraph"),this.drawZone("zoneCanvas",this.point.r),this.drawPoints()},drawPoint:function(t){var e=new Image;e.src="assets/true.png";var o=new Image;o.src="assets/false.png",console.log("GGGGGFDFDBDBFDBBD");var i=document.getElementById("zoneCanvas"),n=i.getContext("2d"),a=t.x,r=t.y;a=30*a+150,r=-30*r+150,n.beginPath(),n.drawImage(t.result?e:o,a,r,30,30),n.fill(),n.stroke(),n.closePath()},drawZone:function(t,e){var o=document.getElementById(t),i=o.getContext("2d"),n=o.width,a=o.height;i.clearRect(0,0,n,a),i.beginPath(),i.rect(.5*n,.27*a,.46*n,.23*a),i.closePath(),i.strokeStyle="dodgerblue",i.fillStyle="dodgerblue",i.fill(),i.stroke(),i.beginPath(),i.moveTo(.5*n,.5*a),i.arc(.5*n,.5*a,.23*a,5*Math.PI/2,3*Math.PI),i.closePath(),i.strokeStyle="dodgerblue",i.fillStyle="dodgerblue",i.fill(),i.stroke(),i.beginPath(),i.moveTo(.5*n,.5*a),i.lineTo(.04*n,.5*a),i.lineTo(.5*n,.27*a),i.lineTo(.5*n,.5*a),i.closePath(),i.strokeStyle="dodgerblue",i.fillStyle="dodgerblue",i.fill(),i.stroke(),i.strokeStyle="black",i.fillStyle="black",i.beginPath(),i.font="14px Courier New",i.moveTo(.5*n,0),i.lineTo(.5*n,a),i.moveTo(.5*n,0),i.lineTo(.49*n,.03*a),i.moveTo(.5*n,0),i.lineTo(.51*n,.03*a),i.fillText("Y",.52*n,.02*a),i.moveTo(0,.5*a),i.lineTo(n,.5*a),i.moveTo(n,.5*a),i.lineTo(.97*n,.49*a),i.moveTo(n,.5*a),i.lineTo(.97*n,.51*a),i.fillText("X",.98*n,.47*a);var r=null==e?"R":e,s=null==e?"R/2":e/2;i.moveTo(.49*n,.04*a),i.lineTo(.51*n,.04*a),i.fillText(r,.51*n,.05*a),i.moveTo(.49*n,.27*a),i.lineTo(.51*n,.27*a),i.fillText(s,.51*n,.28*a),i.moveTo(.49*n,.73*a),i.lineTo(.51*n,.73*a),i.fillText("-".concat(s),.51*n,.74*a),i.moveTo(.49*n,.96*a),i.lineTo(.51*n,.96*a),i.fillText("-".concat(r),.51*n,.97*a),i.moveTo(.04*n,.49*a),i.lineTo(.04*n,.51*a),i.fillText("-".concat(r),.03*n,.48*a),i.moveTo(.27*n,.49*a),i.lineTo(.27*n,.51*a),i.fillText("-".concat(s),.26*n,.48*a),i.moveTo(.73*n,.49*a),i.lineTo(.73*n,.51*a),i.fillText(s,.72*n,.48*a),i.moveTo(.96*n,.49*a),i.lineTo(.96*n,.51*a),i.fillText(r,.95*n,.48*a),i.closePath(),i.strokeStyle="black",i.fillStyle="black",i.stroke(),i.stroke(),i.closePath()},validateFromGraph:function(){var t=document.getElementById("zoneCanvas"),e=t.getBoundingClientRect();this.point.x=event.clientX-e.right+e.width/2,this.point.y=e.bottom-event.clientY-e.height/2,this.point.x=this.point.x/30,this.point.y=this.point.y/30,this.updatePoints(),console.log("X: "+this.point.x),console.log("Y: "+this.point.y)},validate:function(t,e,o){return this.errorMessage="",t=t.replace(/[^0-9,.-]/g,"").replace(/,/,"."),isNaN(t)&&"-"!==t&&(t=""),t>o&&(t=o),t<e&&(t=e),t.length>10&&(t=t.slice(0,-1)),t}}}),G=H,z=(o("8d30"),Object(u["a"])(G,B,I,!1,null,"5c221cb8",null)),Y=z.exports;i["a"].use(g["a"]);var D=new g["a"]({mode:"history",routes:[{path:"/logReg",component:F},{path:"/",beforeEnter:function(t,e,o){o({path:"/logReg"})}},{path:"/home",component:Y,beforeEnter:function(t,e,o){sessionStorage.getItem("jwt")?o():o({path:"/logReg"})}}]}),A=o("bc3a"),L=o.n(A);i["a"].config.productionTip=!1,i["a"].prototype.$axios=L.a,new i["a"]({router:D,render:function(t){return t(m)}}).$mount("#app")},"622a":function(t,e,o){},"73be":function(t,e,o){"use strict";var i=o("3a73"),n=o.n(i);n.a},"85ec":function(t,e,o){},"8c62":function(t,e,o){},"8d30":function(t,e,o){"use strict";var i=o("8c62"),n=o.n(i);n.a},e993:function(t,e,o){"use strict";var i=o("622a"),n=o.n(i);n.a},eca8:function(t,e,o){}});
//# sourceMappingURL=app.0cd9f671.js.map